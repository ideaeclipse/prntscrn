# pod.yaml
kind: Pod
apiVersion: v1
metadata:
  name: mysql
  labels:
    app: mysql
spec:
  containers:
    - name: mysql
      image: mysql:8.0
      imagePullPolicy: Always
      ports:
        - containerPort: 3306
          name: mysql
      env:
      - name: MYSQL_ROOT_PASSWORD
        value: "root"
      volumeMounts:
      - name: mysql-config-volume
        mountPath: /etc/mysql/conf.d/default_auth.cnf
        subPath: default_auth
  volumes:
    - name: mysql-config-volume
      configMap:
        name: mysql-config
